<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="lang-switch">
    <img src="reshot-icon-globe-MR7PJ4CQAH.svg" id="langToggle" alt="Change Language">

    <div id="langMenu" class="hidden">
      <div class="lang-option" data-lang="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</div>
      <div class="lang-option" data-lang="uz">üá∫üáø O‚Äòzbek</div>
      <div class="lang-option" data-lang="en">üá¨üáß English</div>
    </div>

  </div>

  <div class="container">
    <h1 class="title">
      <span data-i18n="title">–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã –æ—Ç</span> <span class="midea">Midea</span>|Welkin<span class="dot"></span>
    </h1>

    <form id="orderForm">
      <div id="conditionerContainer">
        <div class="cond-row">
          <select name="type" class="type-select">
            <option data-i18n-option="wall">–ù–∞—Å—Ç–µ–Ω–Ω—ã–π</option>
            <option data-i18n-option="cassette">–ö–∞—Å—Å–µ—Ç–Ω—ã–π</option>
            <option data-i18n-option="duct">–ö–∞–Ω–∞–ª—å–Ω—ã–π</option>
            <option data-i18n-option="column">–ö–∞–ª–æ–Ω–Ω—ã–π</option>
            <option data-i18n-option="multi">–ú—É–ª—å—Ç–∏ —Å–ø–ª–∏—Ç</option>
            <option data-i18n-option="industrial">–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π</option>
            <option data-i18n-option="other">–î—Ä—É–≥–æ–µ</option>
          </select>
          <input type="number" name="quantity" min="1" value="1" />
          <button type="button" class="removeBtn hidden">&times;</button>
        </div>
      </div>

      <button type="button" id="addBtn" data-i18n="add">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä</button>

      <label data-i18n="phoneLabel">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
      <input id="phone" type="tel" placeholder="+998 xx xxx xx xx" required />

      <label data-i18n="cityLabel">–ì–æ—Ä–æ–¥:</label>
      <!-- –ì–æ—Ä–æ–¥–∞ -->
      <select id="city">
        <option data-i18n-option="tashkent">–¢–∞—à–∫–µ–Ω—Ç</option>
        <option data-i18n-option="samarkand">–°–∞–º–∞—Ä–∫–∞–Ω–¥</option>
        <option data-i18n-option="bukhara">–ë—É—Ö–∞—Ä–∞</option>
        <option data-i18n-option="namangan">–ù–∞–º–∞–Ω–≥–∞–Ω</option>
        <option data-i18n-option="andijan">–ê–Ω–¥–∏–∂–∞–Ω</option>
        <option data-i18n-option="fergana">–§–µ—Ä–≥–∞–Ω–∞</option>
        <option data-i18n-option="karshi">–ö–∞—Ä—à–∏</option>
        <option data-i18n-option="nukus">–ù—É–∫—É—Å</option>
        <option data-i18n-option="navoi">–ù–∞–≤–æ–∏</option>
        <option data-i18n-option="jizzakh">–î–∂–∏–∑–∑–∞–∫</option>
        <option data-i18n-option="gulistan">–ì—É–ª–∏—Å—Ç–∞–Ω</option>
        <option data-i18n-option="urgench">–£—Ä–≥–µ–Ω—á</option>
      </select>



      <label data-i18n="commentLabel">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label>
      <textarea id="comment" rows="4" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..." readonly
        onfocus="this.removeAttribute('readonly')"></textarea>

      <button type="submit" data-i18n="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    </form>
  </div>







  <script>
    document.getElementById('orderForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const phone = document.getElementById('phone').value;
      const city = document.getElementById('city').value;
      const comment = document.getElementById('comment').value;

      const conditioners = [];
      document.querySelectorAll('.cond-row').forEach(row => {
        const type = row.querySelector('select[name="type"]').value;
        const quantity = row.querySelector('input[name="quantity"]').value;
        conditioners.push(`${type} ‚Äì ${quantity} —à—Ç`);
      });

      const message = `
    <b> –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤ </b>\n
  –¢–µ–ª–µ—Ñ–æ–Ω: <b>${phone}</b>
  –ì–æ—Ä–æ–¥: <b>${city}</b>
  –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: <b>${comment}</b>
  –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã:\n${conditioners.map(c => '‚Ä¢ ' + c).join('\n')}
      `;

      const chatId = '-1002321104734'; // <- –≤—Å—Ç–∞–≤—å —Å—é–¥–∞
      const token = '8001771557:AAH27gALZJTxmDlufLB2_N_fME4cWAl0nvg'; // <- –∏ —Å—é–¥–∞

      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: chatId,
          text: message,
          parse_mode: 'HTML'
        })
      }).then(res => {
        if (res.ok) {
          alert('–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!');
        } else {
          alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
        }
      }).catch(err => {
        alert('–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.');
        console.error(err);
      });
    });
  </script>


  <script src="script.js"></script>
</body>

</html>